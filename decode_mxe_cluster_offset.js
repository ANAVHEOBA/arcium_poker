// MXE account data from earlier:
// Offset 40-47: Cluster Offset (8 bytes, little-endian u64)
const data = Buffer.from([
    0x67, 0x1a, 0x55, 0xfa, 0xb3, 0x9f, 0x11, 0x75,  // 0-7:   Discriminator
    0x00, 0x01, 0x7b, 0xdd, 0x4c, 0x40, 0x01, 0x11,  // 8-15:  Callback program (part 1)
    0xe4, 0xe3, 0xa1, 0x3e, 0x81, 0x29, 0x78, 0x18,  // 16-23: Callback program (part 2)
    0x86, 0xeb, 0x44, 0xa9, 0x73, 0x0a, 0xb1, 0x0f,  // 24-31: Callback program (part 3)
    0xf4, 0xb6, 0xc7, 0x02, 0x25, 0xda, 0xf8, 0x04,  // 32-39: Callback program (part 4)
    0x6b, 0xb1, 0x38, 0xd2, 0x42, 0x38, 0x50, 0x02,  // 40-47: Cluster offset!
    0x00, 0x00, 0x00, 0x01, 0x01, 0x00, 0x00, 0x00,  // 48-55
    0x00, 0x00, 0x00, 0x00, 0x01, 0x00, 0x00, 0x00,  // 56-63
    0x01, 0x00, 0x00, 0x00, 0xfe, 0x00, 0x00, 0x00,  // 64-71
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 72-79
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 80-87
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,  // 88-95
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00               // 96-101
]);

// Extract cluster offset (bytes 40-47, little-endian u64)
const clusterOffsetBytes = data.slice(40, 48);
const clusterOffset = Number(clusterOffsetBytes.readBigUInt64LE());

console.log('\n=== MXE ACCOUNT CLUSTER OFFSET ===\n');
console.log('Hex:', clusterOffsetBytes.toString('hex'));
console.log('Decimal:', clusterOffset);
console.log('Expected (wrong):', 1078779259);
console.log('Expected (correct):', 2326510165);

if (clusterOffset === 1078779259) {
    console.log('\n❌ MXE was initialized with the WRONG cluster offset!');
    console.log('   We need to either:');
    console.log('   1. Create a NEW MXE with the correct offset');
    console.log('   2. Use the wrong offset to match the existing MXE');
} else if (clusterOffset === 2326510165) {
    console.log('\n✅ MXE has the CORRECT cluster offset!');
} else {
    console.log('\n⚠️  MXE has a DIFFERENT cluster offset:', clusterOffset);
}
